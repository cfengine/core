language: android
dist: trusty
android:
  components:
    - build-tools-26.0.2
    - android-26
    - add-on
    - extra
  licenses:
    - 'android-sdk-license-.+'
    - 'google-gdk-license-.+'

before_script:
  - android list targets
  - echo "y" | android update sdk -a --no-ui --filter sys-img-armeabi-v7a-android-26
  - android list targets
  - echo "n" | android create avd --force -n test -t android-26 -c 1G
  - wget https://f-droid.org/FDroid.apk
  - adb install FDroid.apk
  - adb shell monkey -p 'org.fdroid.fdroid' -v 500
  - adb shell screencap -p /sdcard/screen.png
  - adb pull /sdcard/screen.png
  - adb shell rm /sdcard/screen.png
#  - find / -name 'avdmanager'
#  - find / -name 'android'
#  - which android
#  - android --help
#  - android --verbose list
  
#  - echo no | android create avd --force -n test -t android-26 --abi armeabi-v7a -c 100M
#  - emulator -avd test -no-audio -no-window &
#  - android-wait-for-emulator
#  - adb shell input keyevent 82 &
